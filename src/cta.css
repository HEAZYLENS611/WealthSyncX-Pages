/* CTA glow only: do NOT override button color/shape/typography. */

:root {
  /* Single knob: 0.0 (off) → 1.0 (strong) */
  --cta-glow-strength: 0.85;

  /* Metallic translucent blue surface (derived from theme tokens) */
  /* darker + more premium (less neon) */
  --cta-metal-blue-1: color-mix(in oklab, var(--primary) 22%, var(--secondary));
  --cta-metal-blue-2: color-mix(in oklab, var(--chart-4) 14%, var(--background));
}

/* Metallic translucent blue (aesthetic only) */
.btn-cta-premium {
  background-image:
    /* subtle metallic sheen */
    linear-gradient(
      180deg,
      hsl(0 0% 100% / 0.08) 0%,
      hsl(0 0% 100% / 0.00) 40%,
      hsl(0 0% 0% / 0.14) 100%
    ),
    /* soft internal highlight (keeps translucency but improves legibility) */
    radial-gradient(
      120% 140% at 18% 10%,
      hsl(0 0% 100% / 0.06) 0%,
      transparent 55%
    ),
    /* base surface */
    linear-gradient(
      135deg,
      color-mix(in oklab, var(--cta-metal-blue-1) 90%, transparent),
      color-mix(in oklab, var(--cta-metal-blue-2) 88%, transparent)
    );
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border: 1px solid color-mix(in oklab, var(--primary) 22%, transparent);
  box-shadow:
    inset 0 1px 0 hsl(0 0% 100% / 0.10),
    inset 0 -10px 18px -18px hsl(0 0% 0% / 0.55),
    0 16px 44px -30px hsl(0 0% 0% / 0.64);
  color: var(--primary-foreground);
}

/* Halo “organizado” sem bordas: glow desfocado em pseudo-elemento */
.cta-glow-ring {
  position: relative;
  isolation: isolate;
  z-index: 0;
  will-change: transform;
  transition: transform 200ms ease;
}

.cta-glow-ring::before {
  content: "";
  position: absolute;
  inset: -12px;
  border-radius: inherit;
  z-index: -1;
  background: radial-gradient(
    closest-side,
    color-mix(in oklab, var(--primary) 60%, transparent),
    transparent 70%
  );
  filter: blur(18px);
  opacity: calc(0.24 + (var(--cta-glow-strength) * 0.40));
  transform: scale(0.98);
  animation: cta-halo 2.4s cubic-bezier(0.45, 0, 0.25, 1) infinite;
  pointer-events: none;
}

/* Outer glow extra (helps “premium” look without hard edges) */
.cta-glow-ring::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  z-index: -1;
  background: linear-gradient(
    90deg,
    color-mix(in oklab, var(--primary) 55%, transparent),
    color-mix(in oklab, var(--chart-4) 45%, transparent),
    color-mix(in oklab, var(--primary) 55%, transparent)
  );
  filter: blur(10px);
  opacity: calc(0.08 + (var(--cta-glow-strength) * 0.10));
  animation: cta-aura 2.4s cubic-bezier(0.45, 0, 0.25, 1) infinite;
  pointer-events: none;
}

@keyframes cta-halo {
  0%,
  100% {
    opacity: calc(0.14 + (var(--cta-glow-strength) * 0.26));
    transform: scale(0.97);
  }
  50% {
    opacity: calc(0.34 + (var(--cta-glow-strength) * 0.46));
    transform: scale(1.03);
  }
}

@keyframes cta-aura {
  0%,
  100% {
    opacity: calc(0.06 + (var(--cta-glow-strength) * 0.10));
  }
  50% {
    opacity: calc(0.14 + (var(--cta-glow-strength) * 0.16));
  }
}

/* Hover: slight scale + more intense glow (button stays same size at rest) */
.cta-glow-ring:hover {
  transform: scale(1.03);
}

.cta-glow-ring:hover::before {
  opacity: calc(0.34 + (var(--cta-glow-strength) * 0.55));
}

.cta-glow-ring:hover::after {
  opacity: calc(0.16 + (var(--cta-glow-strength) * 0.22));
}

@media (prefers-reduced-motion: reduce) {
  .cta-glow-ring::before {
    /* Em vez de desativar, deixamos mais lento e mais discreto */
    animation-duration: 3.2s;
    opacity: 0.45;
  }
}
